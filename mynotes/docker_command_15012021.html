<!DOCTYPE html>
<html lang="en">
    <head>
        <title>docker command 15JAN2021</title>
    </head><meta charset="utf-8">
    <body>
        back to <a href="../index.html">Luke Du's ugly page</a>.<p><p><p>
        From <a href="https://www.docker.com/sites/default/files/d8/2019-09/docker-cheat-sheet.pdf">PDF sheet.</a><p><p>
        2021年2月22日。<p>
        When command <b>sudo docker ps -a</b> show status <i>EXITED</i>, we can start it using 
        <ul>
            <li><pre><code>sudo docker start [CONTAINER NAME]</code></pre> </li>
        </ul>
        Try webserver in docker.
        <ul>
            <li>Create Dockerfile with contains:<pre>
                <code>From nginx</code>
            </pre> Then just run command <pre>
                <code>sudo docker build -t sinnud_www .</code>
            </pre> to create my own image sinnud_www.
            </li>
            <li><pre><code>
                user@user-VirtualBox:~/docker/nginx$ cat run_nginx.sh 
#!/bin/bash

export VOLUME='/home/user/sinnud.github.io'

docker run  -d \
    --name sinnud_www \
    --publish 1246:80 \
    --volume ${VOLUME}:/usr/share/nginx/html \
    nginx
            </code></pre> </li>
        </ul>
        Then we can use web brouwser with URL: http://192.168.1.213:1246/
        <hr>
        When container can't be stop because of permission issue, we can restart docker service:
        <ul>
            <li><pre><code>sudo systemctl restart docker.service </code></pre></li>
        </ul>
        
        <hr>
        Show docker images:
        <ul>
            <li><pre><code>sudo docker images</code></pre> or <pre><code>sudo docker image ls</code></pre></li>
        </ul>
        Show running containers:
        <ul>
            <li><pre><code>sudo docker container ls</code></pre> or <pre><code>sudo docker ps</code></pre></li>
        </ul>
        Show running/died containers:
        <ul>
            <li><pre><code>sudo docker ps</code></pre> or <pre><code>sudo docker ps -aq</code></pre> just show container ID</li>
        </ul>
        Kill running/died containers:
        <ul>
            <li><pre><code>sudo docker rm -f [container ID]</code></pre> 
                or <pre><code>sudo docker rm -f $(ps -aq)</code></pre> kill all of them</li>
        </ul>
    </body>
</html>